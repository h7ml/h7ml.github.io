import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,o as t,c as l,d as e,e as d,a as r,f as n}from"./app-Cbix2SPG.js";const c={},o=n('<h2 id="高可用配置" tabindex="-1"><a class="header-anchor" href="#高可用配置"><span>高可用配置</span></a></h2><h2 id="安装-keepalived" tabindex="-1"><a class="header-anchor" href="#安装-keepalived"><span>安装 Keepalived</span></a></h2><h3 id="编译安装" tabindex="-1"><a class="header-anchor" href="#编译安装"><span>编译安装</span></a></h3>',3),p={href:"https://www.keepalived.org/download.html#",target:"_blank",rel:"noopener noreferrer"},u=n(`<p>使用 <code>./configure</code> 编译安装</p><p>如遇报错提示</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="language-nginx"><code>configure: error:
!!! OpenSSL is not properly installed on your system. !!!
!!! Can not include OpenSSL headers files. !!!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装依赖</p><div class="language-crystal line-numbers-mode" data-ext="crystal" data-title="crystal"><pre class="language-crystal"><code>yum install openssl<span class="token operator">-</span>devel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="yum-安装" tabindex="-1"><a class="header-anchor" href="#yum-安装"><span>yum 安装</span></a></h3><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><p>使用 yum 安装后配置文件在:<code>/etc/keepalived/keepalived.conf</code></p><h3 id="最小配置" tabindex="-1"><a class="header-anchor" href="#最小配置"><span>最小配置</span></a></h3><ul><li>第一台机器</li></ul><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="language-nginx"><code>! <span class="token directive"><span class="token keyword">Configuration</span> File for keepalived
global_defs</span> <span class="token punctuation">{</span>
 router_id lb111
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">vrrp_instance</span> atguigu</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">state</span> MASTER
    interface ens33
    virtual_router_id <span class="token number">51</span>
    priority <span class="token number">100</span>
    advert_int <span class="token number">1</span>
    authentication</span> <span class="token punctuation">{</span>
        auth_type PASS
        auth_pass 1111
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">virtual_ipaddress</span></span> <span class="token punctuation">{</span>
        192.168.44.200
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>第二台机器</li></ul><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="language-nginx"><code>! <span class="token directive"><span class="token keyword">Configuration</span> File for keepalived
global_defs</span> <span class="token punctuation">{</span>
    router_id lb110
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">vrrp_instance</span> atguigu</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">state</span> BACKUP
    interface ens33
    virtual_router_id <span class="token number">51</span>
    priority <span class="token number">50</span>
    advert_int <span class="token number">1</span>
    authentication</span> <span class="token punctuation">{</span>
        auth_type PASS
        auth_pass 1111
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">virtual_ipaddress</span></span> <span class="token punctuation">{</span>
        192.168.44.200
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动服务</li></ul><div class="language-crystal line-numbers-mode" data-ext="crystal" data-title="crystal"><pre class="language-crystal"><code>systemctl start keepalived
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15);function v(m,h){const a=i("ExternalLinkIcon");return t(),l("div",null,[o,e("p",null,[e("a",p,[d("下载地址 open in new window"),r(a)])]),u])}const b=s(c,[["render",v],["__file","Keepalived.html.vue"]]),y=JSON.parse('{"path":"/posts/nginx/Keepalived.html","title":"高可用配置","lang":"zh-CN","frontmatter":{"icon":"nginx","order":5,"date":"2022-03-20T00:00:00.000Z","author":"h7ml","category":"nginx","tag":"nginx","title":"高可用配置","description":"高可用配置 安装 Keepalived 编译安装 下载地址 open in new window 使用 ./configure 编译安装 如遇报错提示 安装依赖 yum 安装 配置 使用 yum 安装后配置文件在:/etc/keepalived/keepalived.conf 最小配置 第一台机器 第二台机器 启动服务","head":[["link",{"rel":"canonical","href":"https://www.h7ml.cn/posts/nginx/Keepalived.html"}],["meta",{"property":"og:url","content":"https://www.h7ml.cn/posts/nginx/Keepalived.html"}],["meta",{"property":"og:site_name","content":"h7ml-前端物语"}],["meta",{"property":"og:title","content":"高可用配置"}],["meta",{"property":"og:description","content":"高可用配置 安装 Keepalived 编译安装 下载地址 open in new window 使用 ./configure 编译安装 如遇报错提示 安装依赖 yum 安装 配置 使用 yum 安装后配置文件在:/etc/keepalived/keepalived.conf 最小配置 第一台机器 第二台机器 启动服务"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-03T04:52:44.000Z"}],["meta",{"property":"article:author","content":"h7ml"}],["meta",{"property":"article:tag","content":"nginx"}],["meta",{"property":"article:published_time","content":"2022-03-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-03T04:52:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"高可用配置\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-03-20T00:00:00.000Z\\",\\"dateModified\\":\\"2023-05-03T04:52:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"h7ml\\"}]}"]]},"headers":[{"level":2,"title":"高可用配置","slug":"高可用配置","link":"#高可用配置","children":[]},{"level":2,"title":"安装 Keepalived","slug":"安装-keepalived","link":"#安装-keepalived","children":[{"level":3,"title":"编译安装","slug":"编译安装","link":"#编译安装","children":[]},{"level":3,"title":"yum 安装","slug":"yum-安装","link":"#yum-安装","children":[]}]},{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[{"level":3,"title":"最小配置","slug":"最小配置","link":"#最小配置","children":[]}]}],"git":{"createdTime":1683089564000,"updatedTime":1683089564000,"contributors":[{"name":"h7ml","email":"h7ml@qq.com","commits":1}]},"readingTime":{"minutes":0.58,"words":174},"filePathRelative":"posts/nginx/Keepalived.md","localizedDate":"2022年3月20日","excerpt":"<h2>高可用配置</h2>\\n<h2>安装 Keepalived</h2>\\n<h3>编译安装</h3>\\n<p><a href=\\"https://www.keepalived.org/download.html#\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">下载地址 open in new window</a></p>\\n<p>使用 <code>./configure</code> 编译安装</p>\\n<p>如遇报错提示</p>\\n<div class=\\"language-nginx\\" data-ext=\\"nginx\\" data-title=\\"nginx\\"><pre class=\\"language-nginx\\"><code>configure: error:\\n!!! OpenSSL is not properly installed on your system. !!!\\n!!! Can not include OpenSSL headers files. !!!\\n</code></pre></div>","autoDesc":true}');export{b as comp,y as data};
