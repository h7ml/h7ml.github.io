import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as p,c as o,d as s,e as a,a as e,f as c}from"./app-Cbix2SPG.js";const i={},d=c(`<p>PostgreSQL 的语法知识和常见查询操作</p><h2 id="_1-数据定义语句-ddl" tabindex="-1"><a class="header-anchor" href="#_1-数据定义语句-ddl"><span>1. 数据定义语句（DDL）</span></a></h2><h3 id="_1-1-登录数据库" tabindex="-1"><a class="header-anchor" href="#_1-1-登录数据库"><span>1.1. 登录数据库</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>psql <span class="token operator">-</span>U username <span class="token operator">-</span>d database_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-2-创建数据库" tabindex="-1"><a class="header-anchor" href="#_1-2-创建数据库"><span>1.2. 创建数据库</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> database_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-3-查看所有数据库" tabindex="-1"><a class="header-anchor" href="#_1-3-查看所有数据库"><span>1.3. 查看所有数据库</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>\\l
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-4-连接数据库" tabindex="-1"><a class="header-anchor" href="#_1-4-连接数据库"><span>1.4. 连接数据库</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>\\c database_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-5-查看所有数据表" tabindex="-1"><a class="header-anchor" href="#_1-5-查看所有数据表"><span>1.5. 查看所有数据表</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>\\dt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-6-删除数据库" tabindex="-1"><a class="header-anchor" href="#_1-6-删除数据库"><span>1.6. 删除数据库</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> database_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-表操作" tabindex="-1"><a class="header-anchor" href="#_2-表操作"><span>2. 表操作</span></a></h2><h3 id="_2-1-创建表" tabindex="-1"><a class="header-anchor" href="#_2-1-创建表"><span>2.1. 创建表</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
    column1 data_type<span class="token punctuation">,</span>
    column2 data_type<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-查看表结构" tabindex="-1"><a class="header-anchor" href="#_2-2-查看表结构"><span>2.2. 查看表结构</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>\\d table_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-3-删除表" tabindex="-1"><a class="header-anchor" href="#_2-3-删除表"><span>2.3. 删除表</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-4-修改表名" tabindex="-1"><a class="header-anchor" href="#_2-4-修改表名"><span>2.4. 修改表名</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> new_table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-5-修改表的所有者" tabindex="-1"><a class="header-anchor" href="#_2-5-修改表的所有者"><span>2.5. 修改表的所有者</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name OWNER <span class="token keyword">TO</span> new_owner<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-6-修改表的注释" tabindex="-1"><a class="header-anchor" href="#_2-6-修改表的注释"><span>2.6. 修改表的注释</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">COMMENT</span> <span class="token keyword">ON</span> <span class="token keyword">TABLE</span> table_name <span class="token operator">IS</span> <span class="token string">&#39;new_comment&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-7-修改列名" tabindex="-1"><a class="header-anchor" href="#_2-7-修改列名"><span>2.7. 修改列名</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">RENAME</span> <span class="token keyword">COLUMN</span> column_name <span class="token keyword">TO</span> new_column_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-8-修改列的数据类型" tabindex="-1"><a class="header-anchor" href="#_2-8-修改列的数据类型"><span>2.8. 修改列的数据类型</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> column_name <span class="token keyword">TYPE</span> new_data_type<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-9-修改列的默认值" tabindex="-1"><a class="header-anchor" href="#_2-9-修改列的默认值"><span>2.9. 修改列的默认值</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> column_name <span class="token keyword">SET</span> <span class="token keyword">DEFAULT</span> new_default<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-10-修改列的注释" tabindex="-1"><a class="header-anchor" href="#_2-10-修改列的注释"><span>2.10. 修改列的注释</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">COMMENT</span> <span class="token keyword">ON</span> <span class="token keyword">COLUMN</span> table_name<span class="token punctuation">.</span>column_name <span class="token operator">IS</span> <span class="token string">&#39;new_comment&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-11-删除列" tabindex="-1"><a class="header-anchor" href="#_2-11-删除列"><span>2.11. 删除列</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> column_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-12-添加列" tabindex="-1"><a class="header-anchor" href="#_2-12-添加列"><span>2.12. 添加列</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> column_name data_type<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-13-添加主键" tabindex="-1"><a class="header-anchor" href="#_2-13-添加主键"><span>2.13. 添加主键</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-14-添加外键" tabindex="-1"><a class="header-anchor" href="#_2-14-添加外键"><span>2.14. 添加外键</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-15-添加唯一约束" tabindex="-1"><a class="header-anchor" href="#_2-15-添加唯一约束"><span>2.15. 添加唯一约束</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-16-添加检查约束" tabindex="-1"><a class="header-anchor" href="#_2-16-添加检查约束"><span>2.16. 添加检查约束</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>column_name <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-17-删除主键" tabindex="-1"><a class="header-anchor" href="#_2-17-删除主键"><span>2.17. 删除主键</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> constraint_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-18-删除外键" tabindex="-1"><a class="header-anchor" href="#_2-18-删除外键"><span>2.18. 删除外键</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> constraint_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-19-删除唯一约束" tabindex="-1"><a class="header-anchor" href="#_2-19-删除唯一约束"><span>2.19. 删除唯一约束</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> constraint_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-20-删除检查约束" tabindex="-1"><a class="header-anchor" href="#_2-20-删除检查约束"><span>2.20. 删除检查约束</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> constraint_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-21-查询列" tabindex="-1"><a class="header-anchor" href="#_2-21-查询列"><span>2.21 查询列</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column_name <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-查询操作" tabindex="-1"><a class="header-anchor" href="#_3-查询操作"><span>3. 查询操作</span></a></h2><h3 id="_3-1-查询所有数据" tabindex="-1"><a class="header-anchor" href="#_3-1-查询所有数据"><span>3.1. 查询所有数据</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-2-查询指定列" tabindex="-1"><a class="header-anchor" href="#_3-2-查询指定列"><span>3.2. 查询指定列</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-3-查询指定列并去重" tabindex="-1"><a class="header-anchor" href="#_3-3-查询指定列并去重"><span>3.3. 查询指定列并去重</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-4-查询指定列并排序" tabindex="-1"><a class="header-anchor" href="#_3-4-查询指定列并排序"><span>3.4. 查询指定列并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token punctuation">,</span> column2 <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-5-查询指定列并限制返回行数" tabindex="-1"><a class="header-anchor" href="#_3-5-查询指定列并限制返回行数"><span>3.5. 查询指定列并限制返回行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-6-查询指定列并限制返回行数并跳过指定行数" tabindex="-1"><a class="header-anchor" href="#_3-6-查询指定列并限制返回行数并跳过指定行数"><span>3.6. 查询指定列并限制返回行数并跳过指定行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name <span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-7-查询指定列并限制返回行数并跳过指定行数并排序" tabindex="-1"><a class="header-anchor" href="#_3-7-查询指定列并限制返回行数并跳过指定行数并排序"><span>3.7. 查询指定列并限制返回行数并跳过指定行数并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token punctuation">,</span> column2 <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-8-查询指定列并限制返回行数并跳过指定行数并排序并去重" tabindex="-1"><a class="header-anchor" href="#_3-8-查询指定列并限制返回行数并跳过指定行数并排序并去重"><span>3.8. 查询指定列并限制返回行数并跳过指定行数并排序并去重</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2 <span class="token keyword">FROM</span> table_name <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token punctuation">,</span> column2 <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-9-聚合函数" tabindex="-1"><a class="header-anchor" href="#_3-9-聚合函数"><span>3.9. 聚合函数</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>常见的聚合函数有：AVG、COUNT、SUM、MIN、MAX。</p></blockquote><h4 id="_3-10-聚合函数并分组" tabindex="-1"><a class="header-anchor" href="#_3-10-聚合函数并分组"><span>3.10. 聚合函数并分组</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-11-聚合函数并分组并排序" tabindex="-1"><a class="header-anchor" href="#_3-11-聚合函数并分组并排序"><span>3.11. 聚合函数并分组并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> alias <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-12-聚合函数并分组并排序并限制返回行数并跳过指定行数" tabindex="-1"><a class="header-anchor" href="#_3-12-聚合函数并分组并排序并限制返回行数并跳过指定行数"><span>3.12. 聚合函数并分组并排序并限制返回行数并跳过指定行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> alias <span class="token keyword">ASC</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-13-聚合函数并分组并排序并限制返回行数并跳过指定行数并去重" tabindex="-1"><a class="header-anchor" href="#_3-13-聚合函数并分组并排序并限制返回行数并跳过指定行数并去重"><span>3.13. 聚合函数并分组并排序并限制返回行数并跳过指定行数并去重</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> alias <span class="token keyword">ASC</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-14-聚合函数并分组并排序并限制返回行数并跳过指定行数并去重并过滤" tabindex="-1"><a class="header-anchor" href="#_3-14-聚合函数并分组并排序并限制返回行数并跳过指定行数并去重并过滤"><span>3.14. 聚合函数并分组并排序并限制返回行数并跳过指定行数并去重并过滤</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> alias
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> <span class="token keyword">column</span> <span class="token operator">&gt;</span> <span class="token number">0</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">column</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> alias <span class="token keyword">ASC</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-13-条件查询" tabindex="-1"><a class="header-anchor" href="#_3-13-条件查询"><span>3.13 条件查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>常见的条件操作符有：=、&lt;、&gt;、&lt;=、&gt;=、&lt;&gt;等。</p></blockquote><h4 id="_3-14-条件查询并分组" tabindex="-1"><a class="header-anchor" href="#_3-14-条件查询并分组"><span>3.14. 条件查询并分组</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> value1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-15-条件查询并分组并排序" tabindex="-1"><a class="header-anchor" href="#_3-15-条件查询并分组并排序"><span>3.15. 条件查询并分组并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> value1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column2
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-16-条件查询并分组并排序并限制返回行数并跳过指定行数" tabindex="-1"><a class="header-anchor" href="#_3-16-条件查询并分组并排序并限制返回行数并跳过指定行数"><span>3.16. 条件查询并分组并排序并限制返回行数并跳过指定行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> value1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column2
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ASC 表示升序，DESC 表示降序。</p></blockquote><h4 id="_3-17-条件查询并分组并排序并限制返回行数并跳过指定行数并去重" tabindex="-1"><a class="header-anchor" href="#_3-17-条件查询并分组并排序并限制返回行数并跳过指定行数并去重"><span>3.17. 条件查询并分组并排序并限制返回行数并跳过指定行数并去重</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> value1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column2
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-18-连接查询" tabindex="-1"><a class="header-anchor" href="#_3-18-连接查询"><span>3.18. 连接查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> condition<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>常见的连接类型有：INNER JOIN、LEFT JOIN、RIGHT JOIN、FULL JOIN。</p></blockquote><h3 id="_3-19-连接查询并分组" tabindex="-1"><a class="header-anchor" href="#_3-19-连接查询并分组"><span>3.19. 连接查询并分组</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> condition
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-20-连接查询并分组并排序" tabindex="-1"><a class="header-anchor" href="#_3-20-连接查询并分组并排序"><span>3.20. 连接查询并分组并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> condition
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-21-连接查询并分组并排序并限制返回行数并跳过指定行数" tabindex="-1"><a class="header-anchor" href="#_3-21-连接查询并分组并排序并限制返回行数并跳过指定行数"><span>3.21. 连接查询并分组并排序并限制返回行数并跳过指定行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> condition
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-22-子查询" tabindex="-1"><a class="header-anchor" href="#_3-22-子查询"><span>3.22. 子查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">WHERE</span> column1 <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> table2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-23-分组查询" tabindex="-1"><a class="header-anchor" href="#_3-23-分组查询"><span>3.23. 分组查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>常见的聚合函数有：AVG、COUNT、SUM、MIN、MAX。</p></blockquote><h4 id="_3-24-分组查询并排序" tabindex="-1"><a class="header-anchor" href="#_3-24-分组查询并排序"><span>3.24. 分组查询并排序</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-25-分组查询并排序并限制返回行数并跳过指定行数" tabindex="-1"><a class="header-anchor" href="#_3-25-分组查询并排序并限制返回行数并跳过指定行数"><span>3.25. 分组查询并排序并限制返回行数并跳过指定行数</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-26-分组查询并排序并限制返回行数并跳过指定行数并去重" tabindex="-1"><a class="header-anchor" href="#_3-26-分组查询并排序并限制返回行数并跳过指定行数并去重"><span>3.26. 分组查询并排序并限制返回行数并跳过指定行数并去重</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column1
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> column2 <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span> <span class="token keyword">OFFSET</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-27-嵌套查询" tabindex="-1"><a class="header-anchor" href="#_3-27-嵌套查询"><span>3.27 嵌套查询</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table1
<span class="token keyword">WHERE</span> column1 <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> table2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-28-更新操作" tabindex="-1"><a class="header-anchor" href="#_3-28-更新操作"><span>3.28 更新操作</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> table_name
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> column2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-29-删除操作" tabindex="-1"><a class="header-anchor" href="#_3-29-删除操作"><span>3.29 删除操作</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="postgresql-特有功能" tabindex="-1"><a class="header-anchor" href="#postgresql-特有功能"><span>PostgreSQL 特有功能</span></a></h2><h3 id="_4-1-json-数据类型" tabindex="-1"><a class="header-anchor" href="#_4-1-json-数据类型"><span>4.1. JSON 数据类型</span></a></h3><p>PostgreSQL 支持存储和查询 JSON 数据类型。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
    json_column JSON
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>json_column<span class="token punctuation">)</span>
    <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;{&quot;key&quot;: &quot;value&quot;}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> json_column<span class="token operator">-</span><span class="token operator">&gt;&gt;</span><span class="token string">&#39;key&#39;</span>
<span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-全文搜索" tabindex="-1"><a class="header-anchor" href="#_4-2-全文搜索"><span>4.2 全文搜索</span></a></h3><p>PostgreSQL 提供全文搜索功能，可以在文本数据中进行高效的关键词搜索。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_text_search <span class="token keyword">ON</span> table_name <span class="token keyword">USING</span> gin<span class="token punctuation">(</span>to_tsvector<span class="token punctuation">(</span><span class="token string">&#39;english&#39;</span><span class="token punctuation">,</span> <span class="token keyword">column</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> to_tsvector<span class="token punctuation">(</span><span class="token string">&#39;english&#39;</span><span class="token punctuation">,</span> <span class="token keyword">column</span><span class="token punctuation">)</span> @@ to_tsquery<span class="token punctuation">(</span><span class="token string">&#39;english&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;keyword&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-空间数据类型" tabindex="-1"><a class="header-anchor" href="#_4-3-空间数据类型"><span>4.3. 空间数据类型</span></a></h3><p>PostgreSQL 支持空间数据类型和空间索引，用于存储和查询地理位置信息。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
    id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    location <span class="token keyword">GEOMETRY</span><span class="token punctuation">(</span><span class="token keyword">Point</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>location<span class="token punctuation">)</span>
    <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> ST_DWithin<span class="token punctuation">(</span>location<span class="token punctuation">,</span> ST_MakePoint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>::geography<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h2>`,136),r={href:"https://www.postgresql.org/docs/",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.postgresqltutorial.com/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://pgexercises.com/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.runoob.com//postgresql-tutorial.html",target:"_blank",rel:"noopener noreferrer"};function v(h,b){const n=t("ExternalLinkIcon");return p(),o("div",null,[d,s("ul",null,[s("li",null,[s("a",r,[a("PostgreSQL Documentation"),e(n)])]),s("li",null,[s("a",u,[a("PostgreSQL Tutorial"),e(n)])]),s("li",null,[s("a",k,[a("PostgreSQL Exercises"),e(n)])]),s("li",null,[s("a",m,[a("菜鸟教程"),e(n)])])])])}const y=l(i,[["render",v],["__file","PostgreSQL.html.vue"]]),_=JSON.parse(`{"path":"/posts/PostgreSQL/PostgreSQL.html","title":"PostgreSQL的语法知识和常见查询操作","lang":"zh-CN","frontmatter":{"icon":"PostgreSQL","order":1,"date":"2024-07-11T00:00:00.000Z","author":"h7ml","title":"PostgreSQL的语法知识和常见查询操作","description":"PostgreSQL的语法知识和常见查询操作","footer":"<a href='https://beian.mit.gov.cn/' target='blank'>浙ICP备2021037683号-2</a>PostgreSQL的语法知识和常见查询操作","star":1,"image":"https://www.h7ml.cn/logo.png","banner":"https://www.h7ml.cn/logo.png","shortTitle":"PostgreSQL的语法知识和常见查询操作","category":["PostgreSQL","eventsource"],"tag":["PostgreSQL","eventsource"],"head":[["meta",{"name":"keywords","content":"PostgreSQL的语法知识和常见查询操作"}],["link",{"rel":"canonical","href":"https://www.h7ml.cn/posts/PostgreSQL/PostgreSQL.html"}],["meta",{"property":"og:url","content":"https://www.h7ml.cn/posts/PostgreSQL/PostgreSQL.html"}],["meta",{"property":"og:site_name","content":"h7ml-前端物语"}],["meta",{"property":"og:title","content":"PostgreSQL的语法知识和常见查询操作"}],["meta",{"property":"og:description","content":"PostgreSQL的语法知识和常见查询操作"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.h7ml.cn/logo.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-13T20:13:02.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://www.h7ml.cn/logo.png"}],["meta",{"name":"twitter:image:alt","content":"PostgreSQL的语法知识和常见查询操作"}],["meta",{"property":"article:author","content":"h7ml"}],["meta",{"property":"article:tag","content":"PostgreSQL"}],["meta",{"property":"article:tag","content":"eventsource"}],["meta",{"property":"article:published_time","content":"2024-07-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-13T20:13:02.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"PostgreSQL的语法知识和常见查询操作\\",\\"image\\":[\\"https://www.h7ml.cn/logo.png\\"],\\"datePublished\\":\\"2024-07-11T00:00:00.000Z\\",\\"dateModified\\":\\"2023-07-13T20:13:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"h7ml\\"}]}"]]},"headers":[{"level":2,"title":"1. 数据定义语句（DDL）","slug":"_1-数据定义语句-ddl","link":"#_1-数据定义语句-ddl","children":[{"level":3,"title":"1.1. 登录数据库","slug":"_1-1-登录数据库","link":"#_1-1-登录数据库","children":[]},{"level":3,"title":"1.2. 创建数据库","slug":"_1-2-创建数据库","link":"#_1-2-创建数据库","children":[]},{"level":3,"title":"1.3. 查看所有数据库","slug":"_1-3-查看所有数据库","link":"#_1-3-查看所有数据库","children":[]},{"level":3,"title":"1.4. 连接数据库","slug":"_1-4-连接数据库","link":"#_1-4-连接数据库","children":[]},{"level":3,"title":"1.5. 查看所有数据表","slug":"_1-5-查看所有数据表","link":"#_1-5-查看所有数据表","children":[]},{"level":3,"title":"1.6. 删除数据库","slug":"_1-6-删除数据库","link":"#_1-6-删除数据库","children":[]}]},{"level":2,"title":"2. 表操作","slug":"_2-表操作","link":"#_2-表操作","children":[{"level":3,"title":"2.1. 创建表","slug":"_2-1-创建表","link":"#_2-1-创建表","children":[]},{"level":3,"title":"2.2. 查看表结构","slug":"_2-2-查看表结构","link":"#_2-2-查看表结构","children":[]},{"level":3,"title":"2.3. 删除表","slug":"_2-3-删除表","link":"#_2-3-删除表","children":[]},{"level":3,"title":"2.4. 修改表名","slug":"_2-4-修改表名","link":"#_2-4-修改表名","children":[]},{"level":3,"title":"2.7. 修改列名","slug":"_2-7-修改列名","link":"#_2-7-修改列名","children":[]},{"level":3,"title":"2.11. 删除列","slug":"_2-11-删除列","link":"#_2-11-删除列","children":[]},{"level":3,"title":"2.12. 添加列","slug":"_2-12-添加列","link":"#_2-12-添加列","children":[]},{"level":3,"title":"2.16. 添加检查约束","slug":"_2-16-添加检查约束","link":"#_2-16-添加检查约束","children":[]},{"level":3,"title":"2.17. 删除主键","slug":"_2-17-删除主键","link":"#_2-17-删除主键","children":[]},{"level":3,"title":"2.18. 删除外键","slug":"_2-18-删除外键","link":"#_2-18-删除外键","children":[]},{"level":3,"title":"2.19. 删除唯一约束","slug":"_2-19-删除唯一约束","link":"#_2-19-删除唯一约束","children":[]},{"level":3,"title":"2.20. 删除检查约束","slug":"_2-20-删除检查约束","link":"#_2-20-删除检查约束","children":[]},{"level":3,"title":"2.21 查询列","slug":"_2-21-查询列","link":"#_2-21-查询列","children":[]}]},{"level":2,"title":"3. 查询操作","slug":"_3-查询操作","link":"#_3-查询操作","children":[{"level":3,"title":"3.1. 查询所有数据","slug":"_3-1-查询所有数据","link":"#_3-1-查询所有数据","children":[]},{"level":3,"title":"3.2. 查询指定列","slug":"_3-2-查询指定列","link":"#_3-2-查询指定列","children":[]},{"level":3,"title":"3.9. 聚合函数","slug":"_3-9-聚合函数","link":"#_3-9-聚合函数","children":[]},{"level":3,"title":"3.13 条件查询","slug":"_3-13-条件查询","link":"#_3-13-条件查询","children":[]},{"level":3,"title":"3.18. 连接查询","slug":"_3-18-连接查询","link":"#_3-18-连接查询","children":[]},{"level":3,"title":"3.19. 连接查询并分组","slug":"_3-19-连接查询并分组","link":"#_3-19-连接查询并分组","children":[]},{"level":3,"title":"3.22. 子查询","slug":"_3-22-子查询","link":"#_3-22-子查询","children":[]},{"level":3,"title":"3.23. 分组查询","slug":"_3-23-分组查询","link":"#_3-23-分组查询","children":[]},{"level":3,"title":"3.27 嵌套查询","slug":"_3-27-嵌套查询","link":"#_3-27-嵌套查询","children":[]},{"level":3,"title":"3.28 更新操作","slug":"_3-28-更新操作","link":"#_3-28-更新操作","children":[]},{"level":3,"title":"3.29 删除操作","slug":"_3-29-删除操作","link":"#_3-29-删除操作","children":[]}]},{"level":2,"title":"PostgreSQL 特有功能","slug":"postgresql-特有功能","link":"#postgresql-特有功能","children":[{"level":3,"title":"4.1. JSON 数据类型","slug":"_4-1-json-数据类型","link":"#_4-1-json-数据类型","children":[]},{"level":3,"title":"4.2 全文搜索","slug":"_4-2-全文搜索","link":"#_4-2-全文搜索","children":[]},{"level":3,"title":"4.3. 空间数据类型","slug":"_4-3-空间数据类型","link":"#_4-3-空间数据类型","children":[]}]},{"level":2,"title":"参考文档","slug":"参考文档","link":"#参考文档","children":[]}],"git":{"createdTime":1689036324000,"updatedTime":1689279182000,"contributors":[{"name":"h7ml","email":"h7ml@qq.com","commits":4}]},"readingTime":{"minutes":5.37,"words":1611},"filePathRelative":"posts/PostgreSQL/PostgreSQL.md","localizedDate":"2024年7月11日","excerpt":"<p>PostgreSQL 的语法知识和常见查询操作</p>\\n<h2>1. 数据定义语句（DDL）</h2>\\n<h3>1.1. 登录数据库</h3>\\n<div class=\\"language-sql\\" data-ext=\\"sql\\" data-title=\\"sql\\"><pre class=\\"language-sql\\"><code>psql <span class=\\"token operator\\">-</span>U username <span class=\\"token operator\\">-</span>d database_name\\n</code></pre></div><h3>1.2. 创建数据库</h3>"}`);export{y as comp,_ as data};
